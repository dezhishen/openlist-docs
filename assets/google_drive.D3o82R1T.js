import{_ as k}from"./ValaxyMain.K5fCpsHG.js";import{_ as f}from"./ValaxyMermaid.DGyn1Wbh.js";import{_ as I,a as h,b as D}from"./google-ouath-02.BekU0u6J.js";import{d as L,u as O,a as A}from"./chunks/vue-router.D17hkPmm.js";import{B as G,D as t,v as Z,A as P,C as _,E as i,H as l,I as o,u as s,L as u,y as C}from"./framework.C2rCjxQ4.js";import"./app.DrOxlIKG.js";import"./chunks/dayjs.BX5x0S-s.js";import"./chunks/vue-i18n.B6YPs9qy.js";import"./chunks/pinia.DXHibdWv.js";/* empty css                    */import"./chunks/nprogress.BoH_DEjm.js";const j="/OpenList-Docs/img/drivers/google/google-ouath-03.png",y="/OpenList-Docs/img/drivers/google/google-00-l.png",W="/OpenList-Docs/img/drivers/google/google-00-d.png",E="/OpenList-Docs/img/drivers/google/google-01-01-l.png",Y="/OpenList-Docs/img/drivers/google/google-01-01-d.png",N="/OpenList-Docs/img/drivers/google/google-01-02-l.png",T="/OpenList-Docs/img/drivers/google/google-01-02-d.png",V="/OpenList-Docs/img/drivers/google/google-02.png",B="/OpenList-Docs/img/drivers/google/google-03.png",z="/OpenList-Docs/img/drivers/google/google-04.png",U="/OpenList-Docs/img/drivers/google/google-05-l.png",w="/OpenList-Docs/img/drivers/google/google-05-d.png",x="/OpenList-Docs/img/drivers/google/googledrive-dir.png",K="/OpenList-Docs/img/drivers/google/google-06-l.png",R="/OpenList-Docs/img/drivers/google/google-06-d.png",S="/OpenList-Docs/img/drivers/google/google-07-d.png",M="/OpenList-Docs/img/drivers/google/google-07-l.png",X="/OpenList-Docs/img/drivers/google/google-08-l.png",H="/OpenList-Docs/img/drivers/google/google-08-d.png",Q=y+"#light",$=W+"#dark",J=E+"#light",F=Y+"#dark",q=N+"#light",ll=T+"#dark",ol=U+"#light",el=w+"#dark",tl=K+"#light",nl=R+"#dark",il=S+"#dark",sl=M+"#light",rl=X+"#light",al=H+"#dark",gl={lang:"zh-CN"},dl={class:"warning custom-block"},ul={class:"custom-block-title"},ml=L("/guide/drivers/google_drive",async r=>JSON.parse('{"title":{"en":"Google Drive","zh-CN":"谷歌云盘"},"description":"","frontmatter":{"title":{"en":"Google Drive","zh-CN":"谷歌云盘"},"icon":"iconfont icon-state","top":330,"categories":["guide","drivers"]},"headers":[],"relativePath":"pages/guide/drivers/google_drive.md","lastUpdated":1752541749000}'),{lazy:(r,a)=>r.name===a.name}),Gl={__name:"google_drive",setup(r,{expose:a}){const{data:m}=ml(),p=A(),c=O(),g=Object.assign(c.meta.frontmatter||{},m.value?.frontmatter||{});return p.currentRoute.value.data=m.value,C("valaxy:frontmatter",g),globalThis.$frontmatter=g,a({frontmatter:{title:{en:"Google Drive","zh-CN":"谷歌云盘"},icon:"iconfont icon-state",top:330,categories:["guide","drivers"]}}),(n,e)=>{const b=P("VT"),d=f,v=k;return _(),G(v,{frontmatter:Z(g)},{"main-content-md":t(()=>[e[46]||(e[46]=l("p",null,"支持团队盘（根目录ID填写团队盘的目录ID）",-1)),e[47]||(e[47]=l("h2",{id:"_1-必要条件",tabindex:"-1"},[o("1.必要条件 "),l("a",{class:"header-anchor",href:"#_1-必要条件","aria-label":'Permalink to "1.必要条件"'},"​")],-1)),l("div",gl,[l("div",dl,[l("p",ul,[e[0]||(e[0]=l("i",{class:"icon i-carbon-warning-alt"},null,-1)),s(b,{content:"blocks.warning"})]),e[1]||(e[1]=l("ol",null,[l("li",null,"搭建OpenList服务的机器首先要能连接到Google网盘才可以喔~"),l("li",null,[o("必须启动谷歌云盘API服务，启用方式见"),l("a",{href:"#_2-1-%E5%90%AF%E7%94%A8-google-drive-api-%E7%9A%84-api"},"启用 Google Drive API 的 API"),l("blockquote",null,[l("p",null,[o("参考 "),l("a",{href:"https://developers.google.com/workspace/drive/api/quickstart/js",target:"_blank",rel:"noreferrer"},"Google Workspace>Google Drive>指南"),o(": "),l("a",{href:"https://developers.google.com/workspace/drive/api/quickstart/js",target:"_blank",rel:"noreferrer"},"https://developers.google.com/workspace/drive/api/quickstart/js"),o(" ::: :::")])])])],-1)),e[2]||(e[2]=l("h2",{id:"_2-准备接入",tabindex:"-1"},[o("2.准备接入 "),l("a",{class:"header-anchor",href:"#_2-准备接入","aria-label":'Permalink to "2.准备接入"'},"​")],-1)),e[3]||(e[3]=l("h3",{id:"_2-1-启用-google-drive-api-的-api",tabindex:"-1"},[o("2.1.启用 Google Drive API 的 API "),l("a",{class:"header-anchor",href:"#_2-1-启用-google-drive-api-的-api","aria-label":'Permalink to "2.1.启用 Google Drive API 的 API"'},"​")],-1)),e[4]||(e[4]=l("ol",null,[l("li",null,[o("在"),l("a",{href:"https://developers.google.com/workspace/drive/api/quickstart/js",target:"_blank",rel:"noreferrer"},"指南页面"),o("中找到"),l("code",null,"启用API"),o("按钮，点击进入快捷开启界面，点击下一步以及确认后，即可完成开启。")]),l("li",null,[o("也可以访问"),l("a",{href:"https://console.cloud.google.com/apis/library/drive.googleapis.com",target:"_blank",rel:"noreferrer"},"谷歌云盘API功能管理界面"),o("，在上方找到"),l("code",null,"启用"),o("按钮，点击后等待启用完成。")]),l("li",null,[l("code",null,"配额和系统限制管理"),o("（可选）:切换到"),l("code",null,"配额和系统限制"),o("选项卡，根据你的使用情况和需求，设置合适的配额和限制。")])],-1)),e[5]||(e[5]=l("h3",{id:"_2-2-创建-oauth-客户端-可选-如果使用openlist-公益服务器-自建服务器-则不用创建",tabindex:"-1"},[o("2.2.创建 OAuth 客户端（可选，如果使用OpenList/公益服务器/自建服务器，则不用创建） "),l("a",{class:"header-anchor",href:"#_2-2-创建-oauth-客户端-可选-如果使用openlist-公益服务器-自建服务器-则不用创建","aria-label":'Permalink to "2.2.创建 OAuth 客户端（可选，如果使用OpenList/公益服务器/自建服务器，则不用创建）"'},"​")],-1)),e[6]||(e[6]=l("ol",null,[l("li",null,[o("在"),l("a",{href:"https://console.cloud.google.com/apis/credentials?hl=zh-cn",target:"_blank",rel:"noreferrer"},"凭据界面"),o("中，点击"),l("code",null,"创建凭据"),o("下拉菜单，选择和点击"),l("code",null,"OAuth 客户端 ID")])],-1)),e[7]||(e[7]=l("figure",null,[l("img",{src:I,alt:"google-ouath-00",loading:"lazy",decoding:"async"})],-1)),e[8]||(e[8]=l("ol",{start:"2"},[l("li",null,[o("在弹出的窗口中，选择"),l("code",null,"Web 应用"),o("，填写应用名称")]),l("li",null,[o("在"),l("code",null,"授权的重定向 URI"),o("中，填写 "),l("code",null,"https://api.oplist.org/googleui/callback"),o("，如果是自建或者公益服务，请填写对应的域名，如 "),l("code",null,"https://your-domain.com/googleui/callback"),o("。")]),l("li",null,[o("点击"),l("code",null,"创建"),o("按钮，完成 OAuth 客户端的创建。注：请复制和保存"),l("code",null,"客户端 ID"),o("和"),l("code",null,"客户端密钥"),o("，后续需要使用。")])],-1)),e[9]||(e[9]=l("figure",null,[l("img",{src:h,alt:"google-ouath-00",loading:"lazy",decoding:"async"})],-1)),e[10]||(e[10]=l("ol",{start:"5"},[l("li",null,[o("将自己添加到测试用户中，在左侧找到"),l("code",null,"目标对象"),o("菜单，点击进入后，找到"),l("code",null,"测试用户"),o("下方的"),l("code",null,"+ Add User"),o("按钮，点击后输入你的 Google 账号邮箱地址，点击添加即可。")])],-1)),e[11]||(e[11]=l("figure",null,[l("img",{src:D,alt:"google-ouath-02",loading:"lazy",decoding:"async"})],-1)),e[12]||(e[12]=l("ol",{start:"6"},[l("li",null,[o("测试完毕后可以发布应用，在左侧找到"),l("code",null,"目标对象"),o("菜单，点击进入后，找到"),l("code",null,"发布状态"),o("下方的"),l("code",null,"发布应用"),o("按钮，点击后确认发布即可完成应用发布。")])],-1)),e[13]||(e[13]=l("figure",null,[l("img",{src:j,alt:"google-ouath-03",loading:"lazy",decoding:"async"})],-1)),e[14]||(e[14]=l("h3",{id:"_2-3-获取访问密钥和刷新密钥",tabindex:"-1"},[o("2.3.获取"),l("code",null,"访问密钥"),o("和"),l("code",null,"刷新密钥"),o(),l("a",{class:"header-anchor",href:"#_2-3-获取访问密钥和刷新密钥","aria-label":'Permalink to "2.3.获取`访问密钥`和`刷新密钥`"'},"​")],-1)),e[15]||(e[15]=l("ol",null,[l("li",null,[o("打开"),l("a",{href:"https://api.oplist.org/",target:"_blank",rel:"noreferrer"},"OpenList Google 授权页面"),o(),l("strong",null,"⚠️如果使用公益服务器/自建服务器，请访问公益服务器/自建服务器")]),l("li",null,[o("在页面中下拉框中选择"),l("code",null,"GoogleDrive Login")])],-1)),e[16]||(e[16]=l("p",null,[l("img",{src:Q,alt:"google-00-l",class:"theme-image-light"}),l("img",{src:$,alt:"google-00-d",class:"theme-image-dark"})],-1)),e[17]||(e[17]=l("ol",{start:"3"},[l("li",null,[o("如果在上面的步骤中创建了 OAuth 客户端 ID，请在下方输入框中填写刚才创建的"),l("code",null,"客户端 ID"),o("和"),l("code",null,"客户端密钥")])],-1)),e[18]||(e[18]=l("p",null,[l("img",{src:J,alt:"google-01-01-l",class:"theme-image-light"}),l("img",{src:F,alt:"google-01-01-d",class:"theme-image-dark"})],-1)),e[19]||(e[19]=l("p",null,[o("否则勾选☑️使用 OpenList 提供的API。"),l("strong",null,"⚠️如果使用的公益服务器/自建服务器，此时使用的是公益服务器/自建服务器内置的客户端ID和应用机密")],-1)),e[20]||(e[20]=l("p",null,[l("img",{src:q,alt:"google-01-02-l",class:"theme-image-light"}),l("img",{src:ll,alt:"google-01-02-d",class:"theme-image-dark"})],-1)),e[21]||(e[21]=l("ol",{start:"4"},[l("li",null,[o("点击"),l("code",null,"获取授权"),o("按钮，系统会跳转到 Google 授权页面，登录你的 Google 账号，并授权 OpenList 访问你的 Google Drive。")])],-1)),e[22]||(e[22]=l("figure",null,[l("img",{src:V,alt:"google-02",loading:"lazy",decoding:"async"})],-1)),e[23]||(e[23]=l("ol",{start:"5"},[l("li",null,[o("如果出现"),l("code",null,"此应用未经 Google 验证"),o("的提示，请点击"),l("code",null,"高级"),o("，然后点击"),l("code",null,"转至oplist.org（不安全）"),o("继续。（如果是公益服务器/自建服务器，则此处域名以实际公益服务的域名为准，请仔细甄别）。")])],-1)),e[24]||(e[24]=l("figure",null,[l("img",{src:B,alt:"google-03",loading:"lazy",decoding:"async"})],-1)),e[25]||(e[25]=l("ol",{start:"6"},[l("li",null,[o("请注意授权页面上（下图红色框内）的权限信息，确保"),l("strong",null,"只是"),o("访问你的 "),l("strong",null,"谷歌云端硬盘文件"),o("，如果在公益服务中发现该权限不仅仅是访问"),l("strong",null,"谷歌云端硬盘"),o("，请在"),l("a",{href:"https://github.com/openlistteam/docs/issues",target:"_blank",rel:"noreferrer"},"openlistteam/docs/issues"),o("提起issues。")])],-1)),e[26]||(e[26]=l("figure",null,[l("img",{src:z,alt:"google-04",loading:"lazy",decoding:"async"})],-1)),e[27]||(e[27]=l("ol",{start:"6"},[l("li",null,[o("授权成功后，系统会返回一个"),l("code",null,"刷新密钥"),o("和"),l("code",null,"访问密钥"),o("，请复制并保存该令牌，后续的配置中会使用。")])],-1)),e[28]||(e[28]=l("p",null,[l("img",{src:ol,alt:"google-05-l",class:"theme-image-light"}),l("img",{src:el,alt:"google-05-d",class:"theme-image-dark"})],-1)),e[29]||(e[29]=l("h2",{id:"_3-在alist中添加谷歌云盘",tabindex:"-1"},[o("3.在alist中添加谷歌云盘 "),l("a",{class:"header-anchor",href:"#_3-在alist中添加谷歌云盘","aria-label":'Permalink to "3.在alist中添加谷歌云盘"'},"​")],-1)),e[30]||(e[30]=l("h3",{id:"_3-1-配置说明",tabindex:"-1"},[o("3.1.配置说明 "),l("a",{class:"header-anchor",href:"#_3-1-配置说明","aria-label":'Permalink to "3.1.配置说明"'},"​")],-1)),e[31]||(e[31]=l("h4",{id:"_3-1-1-根文件夹-id",tabindex:"-1"},[o("3.1.1."),l("strong",null,"根文件夹 ID"),o(),l("a",{class:"header-anchor",href:"#_3-1-1-根文件夹-id","aria-label":'Permalink to "3.1.1.**根文件夹 ID**"'},"​")],-1)),e[32]||(e[32]=l("p",null,"与阿里云盘类似，官网 URL 的最后一个字符串，如：",-1)),e[33]||(e[33]=l("figure",null,[l("img",{src:x,alt:"google",loading:"lazy",decoding:"async"})],-1)),e[34]||(e[34]=l("h3",{id:"_3-2-开始添加",tabindex:"-1"},[o("3.2.开始添加 "),l("a",{class:"header-anchor",href:"#_3-2-开始添加","aria-label":'Permalink to "3.2.开始添加"'},"​")],-1)),e[35]||(e[35]=l("ol",null,[l("li",null,[o("打开 Alist 的管理界面，点击左侧菜单中的"),l("code",null,"存储"),o("。")]),l("li",null,[o("在存储列表页面，点击右上角的"),l("code",null,"添加存储"),o("按钮。")]),l("li",null,[o("选择驱动为"),l("code",null,"谷歌云盘（Google Drive）"),o("。")])],-1)),e[36]||(e[36]=l("p",null,[l("img",{src:tl,alt:"google-06-l",class:"theme-image-light"}),l("img",{src:nl,alt:"google-06-d",class:"theme-image-dark"})],-1)),e[37]||(e[37]=l("ol",{start:"4"},[l("li",null,[o("输入挂载路径，如："),l("code",null,"google-drive"),o("。")]),l("li",null,[o("在"),l("code",null,"根文件夹 ID"),o("中填写上面获取的根文件夹 ID，如果使用根目录，请填写"),l("code",null,"root"),o("。")]),l("li",null,[o("刷新令牌中填写上面获取的刷新令牌（如未获取，请参考"),l("a",{href:"#_2-%E5%87%86%E5%A4%87%E6%8E%A5%E5%85%A5"},"准备接入"),o("）。")]),l("li",null,[o("如果你使用的是 "),l("code",null,"OpenList （或者公益服务器/自建服务器）"),o("提供的 OAuth 客户端 ID 和密钥，请按照"),l("code",null,"7.1"),o("和"),l("code",null,"7.2"),o("进行配置 7.1. 在"),l("code",null,"Use online api"),o("中勾选，表示使用 OpenList 提供的在线 API。 7.2. Api url address填写为 "),l("code",null,"https://api.oplist.org/googleui/renewapi"),o("，如果是"),l("code",null,"公益服务器/自建服务器"),o("，请填写对应的服务器地址。")])],-1)),e[38]||(e[38]=l("p",null,[l("img",{src:il,alt:"google-07-d",class:"theme-image-dark"}),l("img",{src:sl,alt:"google-07-l",class:"theme-image-light"})],-1)),e[39]||(e[39]=l("ol",{start:"8"},[l("li",null,[o("如果你使用的是自己创建的 OAuth 客户端 ID 和密钥，请按照"),l("code",null,"8.1"),o("和"),l("code",null,"8.2"),o("进行配置 8.1. 在"),l("code",null,"Use online api"),o("中不勾选，表示使用自建的 OAuth 客户端 ID 和密钥。 8.2. 在"),l("code",null,"客户端ID"),o("中填写你的"),l("code",null,"Oauth 客户端 ID"),o("，在"),l("code",null,"客户端密钥"),o("中填写你的"),l("code",null,"Oauth 客户端密钥")])],-1)),e[40]||(e[40]=l("p",null,[l("img",{src:rl,alt:"google-08-l",class:"theme-image-light"}),l("img",{src:al,alt:"google-08-d",class:"theme-image-dark"})],-1)),e[41]||(e[41]=l("ol",{start:"9"},[l("li",null,[o("点击"),l("code",null,"添加"),o("按钮，完成谷歌云盘的添加。")])],-1)),e[42]||(e[42]=l("h2",{id:"_4-关于use-online-api选项的说明",tabindex:"-1"},[o("4.关于"),l("code",null,"Use online api"),o("选项的说明 "),l("a",{class:"header-anchor",href:"#_4-关于use-online-api选项的说明","aria-label":'Permalink to "4.关于`Use online api`选项的说明"'},"​")],-1)),e[43]||(e[43]=l("h3",{id:"_4-1-自身有密钥的情况下-accesstoken刷新的方式",tabindex:"-1"},[o("4.1.自身有密钥的情况下，AccessToken刷新的方式 "),l("a",{class:"header-anchor",href:"#_4-1-自身有密钥的情况下-accesstoken刷新的方式","aria-label":'Permalink to "4.1.自身有密钥的情况下，AccessToken刷新的方式"'},"​")],-1)),s(d,u({code:"c2VxdWVuY2VEaWFncmFtCiAgcGFydGljaXBhbnQgIE9wZW5MaXN0CiAgcGFydGljaXBhbnQgIEdvb2dsZURyaXZlCiAgT3Blbkxpc3QtPj5Hb29nbGVEcml2ZTog5o-Q5L6b5Yi35paw5Luk54mMK-WGhee9rueahOWuouaIt-err0lE5ZKM5a-G6ZKlCiAgR29vZ2xlRHJpdmUtPj5PcGVuTGlzdDog6L-U5Zue5paw55qE6K6_6Zeu5Luk54mMK-WIt-aWsOS7pOeJjA"},{}),null,16),e[44]||(e[44]=l("h3",{id:"_4-2-自身没有密钥的情况下-accesstoken刷新的方式",tabindex:"-1"},[o("4.2.自身没有密钥的情况下，AccessToken刷新的方式 "),l("a",{class:"header-anchor",href:"#_4-2-自身没有密钥的情况下-accesstoken刷新的方式","aria-label":'Permalink to "4.2.自身没有密钥的情况下，AccessToken刷新的方式"'},"​")],-1)),s(d,u({code:"LS0tCnRpdGxlOiDlpoLkvZXpgJrov4dPbmxpbmVBUEnliLfmlrBBY2Nlc3NUb2tlbu-8nwotLS0Kc2VxdWVuY2VEaWFncmFtCiAgcGFydGljaXBhbnQgIE9wZW5MaXN0CiAgcGFydGljaXBhbnQgIE9ubGluZUFQSQogIHBhcnRpY2lwYW50ICBHb29nbGVEcml2ZQogIE9wZW5MaXN0LT4-T25saW5lQVBJOiDmj5DkvpvliLfmlrDku6TniYwKICBPbmxpbmVBUEktPj5Hb29nbGVEcml2ZTog5o-Q5L6b5Yi35paw5Luk54mMK-WGhee9rueahOWuouaIt-err0lE5ZKM5a-G6ZKlCiAgR29vZ2xlRHJpdmUtPj5PbmxpbmVBUEk6IOi_lOWbnuaWsOeahOiuv-mXruS7pOeJjCvliLfmlrDku6TniYwKICBPbmxpbmVBUEktPj5PcGVuTGlzdDog6L-U5Zue5paw55qE6K6_6Zeu5Luk54mMK-WIt-aWsOS7pOeJjA"},{}),null,16),e[45]||(e[45]=l("h2",{id:"_5-默认使用的哪种下载方式",tabindex:"-1"},[o("5.默认使用的哪种下载方式？ "),l("a",{class:"header-anchor",href:"#_5-默认使用的哪种下载方式","aria-label":'Permalink to "5.默认使用的哪种下载方式？"'},"​")],-1)),s(d,u({code:"LS0tCnRpdGxlOiDpu5jorqTkvb_nlKjnmoTlk6rnp43kuIvovb3mlrnlvI_vvJ8KLS0tCmZsb3djaGFydCBUQgogICAgc3R5bGUgYzEgZmlsbDojYmJmLHN0cm9rZTojZjY2LHN0cm9rZS13aWR0aDoycHgsY29sb3I6I2ZmZgogICAgc3R5bGUgYTIgZmlsbDojZmY3NTc1LHN0cm9rZTojMzMzLHN0cm9rZS13aWR0aDo0cHgKICAgIHN1YmdyYXBoIGlkZTEgWyBdCiAgICBjMQogICAgZW5kCiAgICBjMVvmnKzmnLrku6PnkIZdOjo6c29tZWNsYXNzPT3pu5jorqQ9PT0-YTJb55So5oi36K6-5aSHXQogICAgY2xhc3NEZWYgc29tZWNsYXNzIGZpbGw6I2Y5NgogICAgYjFb5Luj55CGVVJMXS0u5aSH6YCJLi0-YTJb55So5oi36K6-5aSHXQogICAgY2xpY2sgYjEgIi4uL2RyaXZlcnMvY29tbW9uLmh0bWwjd2ViZGF2LeetlueVpSIKICAgIGNsaWNrIGMxICIuLi9kcml2ZXJzL2NvbW1vbi5odG1sI3dlYmRhdi3nrZbnlaUi"},{}),null,16)])])]),"main-header":t(()=>[i(n.$slots,"main-header")]),"main-header-after":t(()=>[i(n.$slots,"main-header-after")]),"main-nav":t(()=>[i(n.$slots,"main-nav")]),"main-content-before":t(()=>[i(n.$slots,"main-content-before")]),"main-content":t(()=>[i(n.$slots,"main-content")]),"main-content-after":t(()=>[i(n.$slots,"main-content-after")]),"main-nav-before":t(()=>[i(n.$slots,"main-nav-before")]),"main-nav-after":t(()=>[i(n.$slots,"main-nav-after")]),comment:t(()=>[i(n.$slots,"comment")]),footer:t(()=>[i(n.$slots,"footer")]),aside:t(()=>[i(n.$slots,"aside")]),"aside-custom":t(()=>[i(n.$slots,"aside-custom")]),default:t(()=>[i(n.$slots,"default")]),_:3},8,["frontmatter"])}}};export{Gl as default,ml as usePageData};
